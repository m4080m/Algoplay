(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{6151:(e,t,n)=>{Promise.resolve().then(n.bind(n,8929))},4088:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(3064),r=n(9104),o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function u(e){var t=e||l(),n=i.useState(t),r=n[0],o=n[1];return i.useEffect(function(){if("undefined"!=typeof window&&"matchMedia"in window){var t=function(){o(e||l())},n=window.matchMedia("screen and (resolution: ".concat(r,"dppx)"));return n.hasOwnProperty("addEventListener")?n.addEventListener("change",t):n.addListener(t),function(){n.hasOwnProperty("removeEventListener")?n.removeEventListener("change",t):n.removeListener(t)}}},[r,e]),r}function l(){return Math.min(Math.max(1,"undefined"!=typeof window&&"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1),3)}"function"==typeof SuppressedError&&SuppressedError;var c=function(){function e(){}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.disconnect=function(){},e}(),f=globalThis.ResizeObserver||c,d=void 0!==globalThis.ResizeObserver,h=!d,v={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function p(e){return Object.assign({},v,e)}function w(e){var t,n,r,o,a,s,l,c=e.riveLoaded,v=void 0!==c&&c,w=e.canvasElem,b=e.containerRef,m=e.options,y=e.onCanvasHasResized,g=e.artboardBounds,R=p(void 0===m?{}:m),E=i.useState({height:0,width:0}),x=E[0],C=x.height,O=x.width,S=E[1],j=i.useState({height:0,width:0}),T=j[0],k=T.height,M=T.width,L=j[1],P=i.useState(!0),N=P[0],I=P[1],H=R.fitCanvasToArtboardHeight,z=R.shouldResizeCanvasToContainer,D=R.useDevicePixelRatio,A=R.customDevicePixelRatio,_=(void 0===(t=z)&&(t=!0),r=(n=i.useState({width:0,height:0}))[0],o=n[1],i.useEffect(function(){if("undefined"!=typeof window&&t){var e=function(){o({width:window.innerWidth,height:window.innerHeight})};return h&&(e(),window.addEventListener("resize",e)),function(){return window.removeEventListener("resize",e)}}},[]),l=i.useRef(new f((a=function(e){d&&o({width:e[e.length-1].contentRect.width,height:e[e.length-1].contentRect.height})},s=0,function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(s),s=window.setTimeout(function(){return a.apply(e,t)},0)}))),i.useEffect(function(){var e=l.current;if(t){var n=b.current;return b.current&&d&&e.observe(b.current),function(){e.disconnect(),n&&d&&e.unobserve(n)}}e.disconnect()},[b,l]),r),F=u(A),W=null!=g?g:{},U=W.maxX,Y=W.maxY,B=i.useCallback(function(){var e,t,n,i,r=null!==(t=null===(e=b.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0,o=null!==(i=null===(n=b.current)||void 0===n?void 0:n.clientHeight)&&void 0!==i?i:0;return H&&g?{width:r,height:r*(g.maxY/g.maxX)}:{width:r,height:o}},[b,H,U,Y]);i.useEffect(function(){if(z&&b.current&&v){var e=B(),t=e.width,n=e.height,i=!1;if(w){var r=t!==O||n!==C;if(R.fitCanvasToArtboardHeight&&r&&(b.current.style.height=n+"px",i=!0),R.useDevicePixelRatio){if(r||t*F!==M||n*F!==k){var o=F*t,a=F*n;w.width=o,w.height=a,w.style.width=t+"px",w.style.height=n+"px",L({width:o,height:a}),i=!0}}else r&&(w.width=t,w.height=n,L({width:t,height:n}),i=!0);S({width:t,height:n})}y&&(N||i)&&y&&y(),N&&I(!1)}},[w,b,_,F,B,N,I,k,M,C,O,y,z,H,D,v]),i.useEffect(function(){L({width:0,height:0})},[w])}var b,m=function(){function e(){}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.disconnect=function(){},e}(),y=globalThis.IntersectionObserver||m,g=function(){function e(){var e=this;this.elementsMap=new Map,this.onObserved=function(t){t.forEach(function(t){var n=e.elementsMap.get(t.target);n&&n(t)})},this.observer=new y(this.onObserved)}return e.prototype.registerCallback=function(e,t){this.observer.observe(e),this.elementsMap.set(e,t)},e.prototype.removeCallback=function(e){this.observer.unobserve(e),this.elementsMap.delete(e)},e}(),R=function(){return b||(b=new g),b};function E(e){var t=e.setContainerRef,n=e.setCanvasRef,i=e.className,r=void 0===i?"":i,u=e.style,l=e.children,c=s(e,["setContainerRef","setCanvasRef","className","style","children"]),f=a({width:"100%",height:"100%"},u);return o.default.createElement("div",a({ref:t,className:r},!r&&{style:f}),o.default.createElement("canvas",a({ref:n,style:{verticalAlign:"top",width:0,height:0}},c),l))}function x(e,t){void 0===t&&(t={});var n=i.useState(null),s=n[0],l=n[1],c=i.useRef(null),f=i.useState(null),d=f[0],h=f[1],v=!!e,b=p(t),m=u(),y=i.useCallback(function(){if(d){if(d.layout&&d.layout.fit===r.Fit.Layout&&s){var e=m*d.layout.layoutScaleFactor;d.devicePixelRatioUsed=m,d.artboardWidth=(null==s?void 0:s.width)/e,d.artboardHeight=(null==s?void 0:s.height)/e}d.startRendering(),d.resizeToCanvas()}},[d,m]);w({riveLoaded:!!d,canvasElem:s,containerRef:c,options:b,onCanvasHasResized:y,artboardBounds:null==d?void 0:d.bounds});var g=i.useCallback(function(e){null===e&&s&&(s.height=0,s.width=0),l(e)},[]);i.useEffect(function(){if(s&&e&&null==d){var t=b.useOffscreenRenderer,n=new r.Rive(a(a({useOffscreenRenderer:t},e),{canvas:s}));n.on(r.EventType.Load,function(){s?h(n):n.cleanup()})}},[s,v,d]);var x=i.useCallback(function(e){c.current=e},[]),C={observe:i.useCallback(function(e,t){R().registerCallback(e,t)},[]),unobserve:i.useCallback(function(e){R().removeCallback(e)},[])},O=C.observe,S=C.unobserve;i.useEffect(function(){var e,t=!1,n=function(){if(s&&t){var e=s.getBoundingClientRect();e.width>0&&e.height>0&&e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.bottom>0&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.right>0&&(null==d||d.startRendering(),t=!1)}};return s&&!1!==b.shouldUseIntersectionObserver&&O(s,function(i){i.isIntersecting?d&&d.startRendering():d&&d.stopRendering(),t=!i.isIntersecting,clearTimeout(e),i.isIntersecting||0!==i.boundingClientRect.width||(e=setTimeout(n,10))}),function(){s&&S(s)}},[O,S,d,s,b.shouldUseIntersectionObserver]),i.useEffect(function(){return function(){d&&(d.cleanup(),h(null))}},[d,s]);var j=null==e?void 0:e.animations;i.useEffect(function(){d&&j&&(d.isPlaying?(d.stop(d.animationNames),d.play(j)):d.isPaused&&(d.stop(d.animationNames),d.pause(j)))},[j,d]);var T=i.useCallback(function(e){return o.default.createElement(E,a({setContainerRef:x,setCanvasRef:g},e))},[g,x]);return{canvas:s,container:c.current,setCanvasRef:g,setContainerRef:x,rive:d,RiveComponent:T}}t.default=function(e){var t=e.src,n=e.artboard,i=e.animations,r=e.stateMachines,u=e.layout,l=e.useOffscreenRenderer,c=e.shouldDisableRiveListeners,f=e.shouldResizeCanvasToContainer,d=e.automaticallyHandleEvents,h=e.children,v=s(e,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),p=x({src:t,artboard:n,animations:i,layout:u,stateMachines:r,autoplay:!0,shouldDisableRiveListeners:void 0!==c&&c,automaticallyHandleEvents:void 0!==d&&d},{useOffscreenRenderer:void 0===l||l,shouldResizeCanvasToContainer:void 0===f||f}).RiveComponent;return o.default.createElement(p,a({},v),h)},t.useResizeCanvas=w,t.useRive=x,t.useRiveFile=function(e){var t=this,n=i.useState(null),o=n[0],a=n[1],s=i.useState("idle"),u=s[0],l=s[1];return i.useEffect(function(){var n,i,o,s=null;return n=void 0,i=void 0,o=function(){return function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,function(t){try{l("loading"),(s=new r.RiveFile(e)).init(),s.on(r.EventType.Load,function(){null==s||s.getInstance(),a(s),l("success")}),s.on(r.EventType.LoadError,function(){l("failed")}),a(s)}catch(e){console.error(e),l("failed")}return[2]})},new(i||(i=Promise))(function(e,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function s(e){try{u(o.throw(e))}catch(e){r(e)}}function u(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(a,s)}u((o=o.apply(t,n||[])).next())}),function(){null==s||s.cleanup()}},[e.src,e.buffer]),{riveFile:o,status:u}},t.useStateMachineInput=function(e,t,n,o){var a=i.useState(null),s=a[0],u=a[1];return i.useEffect(function(){function i(){if(e&&t&&n||u(null),e&&t&&n){var i=e.stateMachineInputs(t);if(i){var r=i.find(function(e){return e.name===n});void 0!==o&&r&&(r.value=o),u(r||null)}}else u(null)}i(),e&&e.on(r.EventType.Load,function(){i()})},[e]),s},Object.keys(r).forEach(function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},8929:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var i=n(4650),r=n(3064),o=n(2531);function a(e){let{algorithmId:t,currentStep:n,onStepChange:a}=e,[s,u]=(0,r.useState)({title:"",steps:[]}),l=(0,r.useRef)(Date.now()),c=(0,r.useRef)(null),f=(0,r.useRef)([]);(0,r.useEffect)(()=>{fetch("../algorithms/".concat(t,".json")).then(e=>e.json()).then(e=>u(e)).catch(e=>console.error("알고리즘 데이터를 불러오는데 실패했습니다:",e))},[t]),(0,r.useEffect)(()=>{f.current=f.current.slice(0,s.steps.length)},[s.steps]),(0,r.useEffect)(()=>{let e=f.current[n],t=c.current;if(e&&t){let n=e.offsetTop,i=t.clientHeight,r=e.clientHeight;t.scrollTo({top:n-i/2+r/2,behavior:"smooth"})}},[n]),(0,r.useEffect)(()=>{let e=e=>{let t=Date.now();if(t-l.current>=500){var i,r;if(e.deltaY>0){let e=Math.min(s.steps.length-1,n+1);e!==n&&(a(e,null===(i=s.steps[e])||void 0===i?void 0:i.state),l.current=t)}else if(e.deltaY<0){let e=Math.max(0,n-1);e!==n&&(a(e,null===(r=s.steps[e])||void 0===r?void 0:r.state),l.current=t)}}e.preventDefault()};return window.addEventListener("wheel",e,{passive:!1}),()=>window.removeEventListener("wheel",e)},[n,a,s.steps]),(0,r.useEffect)(()=>{let e=e=>{var t,i;if("ArrowUp"===e.key){e.preventDefault();let i=Math.max(0,n-1);a(i,null===(t=s.steps[i])||void 0===t?void 0:t.state)}else if("ArrowDown"===e.key){e.preventDefault();let t=Math.min(s.steps.length-1,n+1);a(t,null===(i=s.steps[t])||void 0===i?void 0:i.state)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,a,s.steps]);let d=e=>t=>{f.current[e]=t};return(0,i.jsxs)("div",{ref:c,className:"p-6 space-y-4 overflow-y-auto h-full",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,i.jsx)(o.default,{href:"/",className:"text-base text-blue-600 hover:text-blue-800",children:"← 목록으로"}),(0,i.jsx)("h1",{className:"text-3xl font-bold",children:s.title})]}),(0,i.jsx)("div",{className:"text-base text-gray-500 mb-4",children:"↑↓ 화살표 키나 스크롤을 사용하여 단계를 이동할 수 있습니다"}),s.steps.map((e,t)=>(0,i.jsx)("p",{ref:d(t),className:"p-4 rounded transition-opacity duration-300 text-lg leading-relaxed ".concat(n===t?"opacity-100":"opacity-30"),children:e.text},t))]})}var s=n(4088);function u(e){let{algorithmId:t,currentState:n}=e,{rive:o,RiveComponent:a}=(0,s.useRive)({src:"../animations/".concat(t,".riv"),stateMachines:"State Machine 1",autoplay:!0});return(0,r.useEffect)(()=>{let e=e=>{if("ArrowRight"===e.key&&o){let e=o.stateMachineInputs("State Machine 1"),t=null==e?void 0:e.find(e=>"TriggerAnimation"===e.name&&e.type===s.StateMachineInputType.Trigger);t&&t.fire()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[o]),(0,r.useEffect)(()=>{if(o){let e=o.stateMachineInputs("State Machine 1"),t=null==e?void 0:e.find(e=>e.name==="TriggerSlide".concat(n)&&e.type===s.StateMachineInputType.Trigger);t&&t.fire()}},[o,n]),(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,i.jsx)(a,{className:"w-full h-full"})})}function l(e){let{algorithmId:t}=e,[n,o]=(0,r.useState)(0),[s,l]=(0,r.useState)(0);return(0,i.jsxs)("div",{className:"flex flex-col md:flex-row min-h-screen",children:[(0,i.jsx)("div",{className:"w-full md:w-1/2 h-[50vh] md:h-screen overflow-y-auto border-r",children:(0,i.jsx)(a,{algorithmId:t,currentStep:n,onStepChange:(e,t)=>{o(e),l(t)}})}),(0,i.jsx)("div",{className:"w-full md:w-1/2 h-[50vh] md:h-screen",children:(0,i.jsx)(u,{algorithmId:t,currentState:s})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[32,531,947,170,744],()=>t(6151)),_N_E=e.O()}]);